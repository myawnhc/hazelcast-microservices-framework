package com.theyawns.ecommerce.inventory.service;

import com.theyawns.ecommerce.common.domain.Product;
import com.theyawns.ecommerce.common.dto.ProductDTO;

import java.util.Optional;
import java.util.concurrent.CompletableFuture;

/**
 * Service interface for product inventory operations.
 *
 * @author Generated by Claude Code
 * @since 1.0
 */
public interface ProductService {

    /**
     * Creates a new product.
     *
     * @param dto the product data
     * @return a future that completes with the created product
     */
    CompletableFuture<Product> createProduct(ProductDTO dto);

    /**
     * Retrieves a product by ID.
     *
     * @param productId the product ID
     * @return the product if found
     */
    Optional<Product> getProduct(String productId);

    /**
     * Reserves stock for an order.
     *
     * @param productId the product ID
     * @param quantity the quantity to reserve
     * @param orderId the order ID requesting the reservation
     * @return a future that completes with the updated product
     */
    CompletableFuture<Product> reserveStock(String productId, int quantity, String orderId);

    /**
     * Releases previously reserved stock.
     *
     * @param productId the product ID
     * @param quantity the quantity to release
     * @param orderId the order ID releasing the stock
     * @param reason the reason for releasing
     * @return a future that completes with the updated product
     */
    CompletableFuture<Product> releaseStock(String productId, int quantity, String orderId, String reason);

    /**
     * Checks if a product exists.
     *
     * @param productId the product ID
     * @return true if the product exists
     */
    boolean productExists(String productId);
}
