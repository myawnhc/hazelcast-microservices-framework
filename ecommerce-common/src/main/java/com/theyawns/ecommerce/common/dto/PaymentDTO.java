package com.theyawns.ecommerce.common.dto;

import jakarta.validation.constraints.DecimalMin;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Size;

import java.io.Serializable;
import java.math.BigDecimal;
import java.util.Objects;

/**
 * Data Transfer Object for Payment information.
 * Used for REST API requests and responses.
 *
 * @author Generated by Claude Code
 * @since 2.0
 */
public class PaymentDTO implements Serializable {

    private static final long serialVersionUID = 1L;

    private String paymentId;

    @NotBlank(message = "Order ID is required")
    private String orderId;

    @NotBlank(message = "Customer ID is required")
    private String customerId;

    @DecimalMin(value = "0.01", message = "Amount must be at least 0.01")
    private BigDecimal amount;

    @NotBlank(message = "Currency is required")
    @Size(min = 3, max = 3, message = "Currency must be a 3-letter code")
    private String currency;

    private String method;

    private String status;

    private String transactionId;

    private String failureReason;

    /**
     * Default constructor.
     */
    public PaymentDTO() {
    }

    /**
     * Constructor with required fields for payment initiation.
     *
     * @param orderId the order ID
     * @param customerId the customer ID
     * @param amount the payment amount
     * @param currency the currency code
     */
    public PaymentDTO(String orderId, String customerId, BigDecimal amount, String currency) {
        this.orderId = orderId;
        this.customerId = customerId;
        this.amount = amount;
        this.currency = currency;
    }

    /**
     * Full constructor.
     *
     * @param paymentId the payment ID
     * @param orderId the order ID
     * @param customerId the customer ID
     * @param amount the payment amount
     * @param currency the currency code
     * @param method the payment method
     * @param status the payment status
     * @param transactionId the external transaction ID
     * @param failureReason the failure reason if applicable
     */
    public PaymentDTO(String paymentId, String orderId, String customerId,
                      BigDecimal amount, String currency, String method,
                      String status, String transactionId, String failureReason) {
        this.paymentId = paymentId;
        this.orderId = orderId;
        this.customerId = customerId;
        this.amount = amount;
        this.currency = currency;
        this.method = method;
        this.status = status;
        this.transactionId = transactionId;
        this.failureReason = failureReason;
    }

    // Getters and Setters

    public String getPaymentId() {
        return paymentId;
    }

    public void setPaymentId(String paymentId) {
        this.paymentId = paymentId;
    }

    public String getOrderId() {
        return orderId;
    }

    public void setOrderId(String orderId) {
        this.orderId = orderId;
    }

    public String getCustomerId() {
        return customerId;
    }

    public void setCustomerId(String customerId) {
        this.customerId = customerId;
    }

    public BigDecimal getAmount() {
        return amount;
    }

    public void setAmount(BigDecimal amount) {
        this.amount = amount;
    }

    public String getCurrency() {
        return currency;
    }

    public void setCurrency(String currency) {
        this.currency = currency;
    }

    public String getMethod() {
        return method;
    }

    public void setMethod(String method) {
        this.method = method;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public String getTransactionId() {
        return transactionId;
    }

    public void setTransactionId(String transactionId) {
        this.transactionId = transactionId;
    }

    public String getFailureReason() {
        return failureReason;
    }

    public void setFailureReason(String failureReason) {
        this.failureReason = failureReason;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        PaymentDTO that = (PaymentDTO) o;
        return Objects.equals(paymentId, that.paymentId) &&
                Objects.equals(orderId, that.orderId);
    }

    @Override
    public int hashCode() {
        return Objects.hash(paymentId, orderId);
    }

    @Override
    public String toString() {
        return "PaymentDTO{" +
                "paymentId='" + paymentId + '\'' +
                ", orderId='" + orderId + '\'' +
                ", amount=" + amount +
                ", currency='" + currency + '\'' +
                ", status='" + status + '\'' +
                '}';
    }
}
