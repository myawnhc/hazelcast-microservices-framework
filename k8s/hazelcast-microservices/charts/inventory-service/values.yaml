replicaCount: 1

image:
  repository: hazelcast-microservices/inventory-service
  tag: "latest"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8082

# JVM configuration
jvm:
  xms: "256m"
  xmx: "512m"
  opts: "-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0"

# Spring configuration
spring:
  profiles: "kubernetes"

# Hazelcast client connection (to shared cluster)
hazelcast:
  clusterName: "ecommerce-cluster"
  port: 5701

# OpenTelemetry / tracing
tracing:
  enabled: true
  endpoint: "http://jaeger:4317"

# Health probes (Spring Boot Actuator)
probes:
  startup:
    initialDelaySeconds: 30
    periodSeconds: 10
    failureThreshold: 12
    timeoutSeconds: 5
  liveness:
    initialDelaySeconds: 0
    periodSeconds: 30
    failureThreshold: 3
    timeoutSeconds: 5
  readiness:
    initialDelaySeconds: 0
    periodSeconds: 10
    failureThreshold: 3
    timeoutSeconds: 5

# Init container â€” wait for Hazelcast cluster before starting
initContainers:
  waitForHazelcast:
    enabled: true
    image: busybox:1.36

# Horizontal Pod Autoscaler (requires metrics-server)
autoscaling:
  enabled: false
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70
  # targetMemoryUtilizationPercentage: 80

# Pod Disruption Budget (useful when replicas > 1)
podDisruptionBudget:
  enabled: false
  maxUnavailable: 1

# Resource management
resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "1000m"

# Service account
serviceAccount:
  create: true
  name: ""
  annotations: {}

# Pod scheduling
podAnnotations: {}
podSecurityContext: {}
securityContext: {}
nodeSelector: {}
tolerations: []
affinity: {}
